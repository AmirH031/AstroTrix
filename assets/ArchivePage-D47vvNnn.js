import{j as e}from"./ui-vendor-C5dm8rnt.js";import{r as s}from"./react-vendor-BiErcIuD.js";import{B as a}from"./index-DPNeYU5-.js";import{c as t,C as r,a as l}from"./createLucideIcon-BHDkDqnO.js";import{A as c,I as i,C as n}from"./input-BFvNhhj3.js";import{T as o,A as d,a as x,b as h,c as m,d as p,e as g,f as j,g as y}from"./alert-dialog-CEBo_v2b.js";import{m as v,A as N}from"./motion-vendor-CpZUnx0U.js";import{A as b}from"./arrow-left-B4FZOKjn.js";import"./utils-vendor-Bmne0XXo.js";
/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u=t("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]),f=t("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]),k=t("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);function w({archivedTasks:t,onBack:w,onRestoreTask:C,onDeleteTask:A}){const[T,O]=s.useState(""),[z,D]=s.useState({isOpen:!1,taskId:""}),[I,S]=s.useState(!1),L=t.filter(e=>e.title.toLowerCase().includes(T.toLowerCase())).sort((e,s)=>(s.completedAt||0)-(e.completedAt||0));return e.jsxs("div",{className:"min-h-screen overflow-y-auto bg-transparent text-white relative",children:[e.jsx("video",{autoPlay:!0,muted:!0,loop:!0,className:"fixed inset-0 w-full h-full object-cover -z-20",children:e.jsx("source",{src:"/AstroTrix/Background.webm",type:"video/webm"})}),e.jsx("div",{className:"fixed inset-0 bg-transparent -z-10"}),e.jsxs(v.header,{className:"fixed top-0 left-0 right-0 z-30 p-4 flex items-center gap-4 bg-black/30 backdrop-blur",initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.5},children:[e.jsx(a,{variant:"ghost",size:"icon",onClick:w,className:"text-green-400 hover:text-green-300",children:e.jsx(b,{className:"h-6 w-6"})}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(c,{className:"h-6 w-6 text-green-400"}),e.jsxs("h1",{className:"text-2xl font-bold text-green-400",children:["Archive (",t.length,")"]})]}),t.length>0&&e.jsx(a,{variant:"ghost",size:"icon",onClick:()=>{S(!0)},className:"ml-auto text-red-400 hover:text-red-300",children:e.jsx(o,{className:"h-6 w-6"})})]}),e.jsxs("main",{className:"pt-24 pb-16 px-4 max-w-4xl mx-auto space-y-6",children:[e.jsx(r,{className:"bg-transparent border border-green-400/30 backdrop-blur-md",children:e.jsx(l,{className:"p-4",children:e.jsxs("div",{className:"relative",children:[e.jsx(k,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),e.jsx(i,{placeholder:"Search archived tasks...",value:T,onChange:e=>O(e.target.value),className:"pl-10 bg-gray-700/50 border-gray-600 text-white"})]})})}),0===L.length?e.jsxs("div",{className:"text-center mt-20 text-gray-400",children:[e.jsx(c,{className:"h-12 w-12 mx-auto mb-4"}),e.jsx("p",{children:T?"No archived tasks match your search":"No archived tasks yet."}),T&&e.jsx(a,{variant:"ghost",onClick:()=>O(""),className:"mt-2 text-green-400 hover:text-green-300",children:"Clear search"})]}):e.jsx("div",{className:"space-y-4",children:e.jsx(N,{children:L.map(s=>{return e.jsx(v.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3},children:e.jsx(r,{className:"bg-transparent border border-green-400/20 backdrop-blur-md transition hover:shadow-lg",children:e.jsxs(l,{className:"p-4 flex flex-col sm:flex-row justify-between gap-3",children:[e.jsxs("div",{className:"flex-1 space-y-1",children:[e.jsx("h3",{className:"text-lg font-semibold text-white",children:s.title}),e.jsxs("div",{className:"text-sm text-gray-400 flex flex-wrap gap-4",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(n,{className:"h-4 w-4 text-green-400"})," ",s.time]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(u,{className:"h-4 w-4 text-green-400"})," ",(c=s.repeat,i=s.customDays,"once"===c?"One-time":"weekly"===c?"Weekly":"custom"===c?`Custom (${i.length} days)`:c)]})]}),s.completedAt&&e.jsxs("div",{className:"text-xs text-gray-500",children:["Completed: ",(t=s.completedAt,new Date(t).toLocaleString())]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(a,{variant:"ghost",size:"icon",onClick:()=>C({...s,time:"",timerEndTime:void 0}),className:"text-green-400 hover:text-green-300",children:e.jsx(f,{className:"h-4 w-4"})}),e.jsx(a,{variant:"ghost",size:"icon",onClick:()=>D({isOpen:!0,taskId:s.id}),className:"text-red-400 hover:text-red-300",children:e.jsx(o,{className:"h-4 w-4"})})]})]})})},s.id);var t,c,i})})})]}),e.jsx(d,{open:z.isOpen,onOpenChange:e=>D(s=>({...s,isOpen:e})),children:e.jsxs(x,{className:"bg-gray-800 border border-green-400/30",children:[e.jsxs(h,{children:[e.jsxs(m,{className:"text-red-500 flex items-center gap-2",children:[e.jsx(o,{className:"h-5 w-5"})," Delete Task"]}),e.jsx(p,{className:"text-gray-300",children:"Are you sure you want to permanently delete this task? This cannot be undone."})]}),e.jsxs(g,{children:[e.jsx(j,{className:"bg-gray-700 hover:bg-gray-600",children:"Cancel"}),e.jsx(y,{className:"bg-red-500 hover:bg-red-600",onClick:()=>{A(z.taskId),D({isOpen:!1,taskId:""})},children:"Delete"})]})]})}),e.jsx(d,{open:I,onOpenChange:S,children:e.jsxs(x,{className:"bg-gray-800 border border-green-400/30",children:[e.jsxs(h,{children:[e.jsxs(m,{className:"text-red-500 flex items-center gap-2",children:[e.jsx(o,{className:"h-5 w-5"})," Clear All Archives"]}),e.jsx(p,{className:"text-gray-300",children:"Are you sure you want to permanently delete all archived tasks? This cannot be undone."})]}),e.jsxs(g,{children:[e.jsx(j,{className:"bg-gray-700 hover:bg-gray-600",children:"Cancel"}),e.jsx(y,{className:"bg-red-500 hover:bg-red-600",onClick:()=>{t.forEach(e=>A(e.id)),S(!1)},children:"Delete All"})]})]})})]})}export{w as default};
